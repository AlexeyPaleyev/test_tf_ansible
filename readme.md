Данный проект есть решением следующей задачи.

1.  Создать бесплатный аккаунт в AWS или Azure (на выбор);
2.  Создать Terraform рецепт, который разворачивает 2 виртуальные машины (EC2 / VM). Зона на выбор;
3.  Создать Docker образ на базе nginx, который будет отдавать при старте статическую страницу с приветствием.- 
(опционально): добавить динамики на страницу - вывести публичный IP VM / EC2;
4.  Создать Ansible рецепт, который будет разворачивать по одному экземпляру созданного имеджа на обоих инстансах 
виртуальных машин;5.  Сервисы должны быть доступны из сети интернет.Мы хотим увидеть Terraform код, но установка и 
настройка EC2 / VM предпочтительнее производить с помощью Ansible.После выполнения задания просьба предоставить код
решения в Git. Репозиторий должен содержать README.md файл с описанием порядка установки и тестирования.


ТребованияЖ
1. Акаунт AWS.
2. AWS_ACCESS_KEY_ID & SECRET_ACCESS_KEY пользователя AWS с правами администратора.
3. Ключи SSH (public & private) для доступа к инстансам.
4. Установленная и настроенная AWS CLI.

Предлагаемое решение 

Файл aws-ec2.tf
Облачный провайдер -  AWS, регион Frankfurt.
Скрипт выполняет следующие действия
1 находит последний AMI id Ubuntu linux в регионе
2 создает шлюз (internet gateway), таблицу маршрутизации
3 создает vpc & subnet с шлюзом и таблицей маршрутизации из п 2
4 создает Sequrity group  и открывает входящие соединения на порты 80 (tcp)  22 (tcp), icmp all. Исходящие - все разрешены.
5 импортирует публичный ключ (нееобходимо указать свой)
6 создает 2 инстанса t2.micro на основе image из п1 в vps  & subnet из п3 с публичным IP и ключем SSH из п 5 
с user_data скриптом, который генерирует index.html страницу с IP адресом сервера

ansible
необходимо указать свои данные в ansible\group_vars\web_servers, host.txt 
playbook docker.yml
Скрипт выполняет следующие действия
1 устанавливает необходимые пакеты: apt-transport-https, ca-certificates, curl, gnupg-agent
, software-properties-common
, 
python3-pip
2 устанавливает docker
3 создает каталоги и копирует необходимые файлы на удаленные компьютеры
4 запускает docker и включает автозапуск
5 добавляет пользователя ubuntu  в группу docker

playbook img.yml
Скрипт выполняет следующие действия
1 создает необходимую структуру каталогов и наполняет ее файлами
2 устанавливает Docker Module for Python
3 на основе nginx создает image 
4 запускает контейнер на основе image  из п 3